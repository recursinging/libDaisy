<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libDaisy: daisy::UartHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libDaisy
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedaisy.html">daisy</a></li><li class="navelem"><a class="el" href="classdaisy_1_1_uart_handler.html">UartHandler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdaisy_1_1_uart_handler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">daisy::UartHandler Class Reference<div class="ingroups"><a class="el" href="group__libdaisy.html">LIBDAISY</a> &raquo; <a class="el" href="group__peripheral.html">PERIPHERAL</a> &raquo; <a class="el" href="group__serial.html">SERIAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="uart_8h_source.html">uart.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaisy_1_1_uart_handler_1_1_config.html">Config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac45c7ac82e6f0328b4e7b03fd12e7237"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237">Result</a> { <a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237ae0aa021e21dddbd6d8cecec71e9cf564">OK</a>
, <a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237acd22bad976363fdd1bfbf6759fede482">ERR</a>
 }</td></tr>
<tr class="separator:ac45c7ac82e6f0328b4e7b03fd12e7237"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a673f1aa44d7ebc875078623e7a49becd"><td class="memItemLeft" align="right" valign="top"><a id="a673f1aa44d7ebc875078623e7a49becd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>UartHandler</b> (const <a class="el" href="classdaisy_1_1_uart_handler.html">UartHandler</a> &amp;other)=default</td></tr>
<tr class="separator:a673f1aa44d7ebc875078623e7a49becd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5e2c7db8d720e5bd9e84f8e09bc765"><td class="memItemLeft" align="right" valign="top"><a id="a1b5e2c7db8d720e5bd9e84f8e09bc765"></a>
<a class="el" href="classdaisy_1_1_uart_handler.html">UartHandler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classdaisy_1_1_uart_handler.html">UartHandler</a> &amp;other)=default</td></tr>
<tr class="separator:a1b5e2c7db8d720e5bd9e84f8e09bc765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25c871d2fb9d382ef779ba92b4d2ada"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#aa25c871d2fb9d382ef779ba92b4d2ada">Init</a> (const <a class="el" href="structdaisy_1_1_uart_handler_1_1_config.html">Config</a> &amp;config)</td></tr>
<tr class="separator:aa25c871d2fb9d382ef779ba92b4d2ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad984db785058ee2fed0d0b086e519630"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdaisy_1_1_uart_handler_1_1_config.html">Config</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#ad984db785058ee2fed0d0b086e519630">GetConfig</a> () const</td></tr>
<tr class="separator:ad984db785058ee2fed0d0b086e519630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9641f3808cf70559d3d988f5ae8e254c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#a9641f3808cf70559d3d988f5ae8e254c">PollReceive</a> (uint8_t *buff, size_t size, uint32_t timeout)</td></tr>
<tr class="separator:a9641f3808cf70559d3d988f5ae8e254c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24098e17a8be0b1b2a229f1959c941db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#a24098e17a8be0b1b2a229f1959c941db">StartRx</a> ()</td></tr>
<tr class="separator:a24098e17a8be0b1b2a229f1959c941db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb804c58c2ccf574142b2a030d2d83b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#aeeb804c58c2ccf574142b2a030d2d83b">RxActive</a> ()</td></tr>
<tr class="separator:aeeb804c58c2ccf574142b2a030d2d83b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8282a20746be60a208cde90a8eea1529"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#a8282a20746be60a208cde90a8eea1529">FlushRx</a> ()</td></tr>
<tr class="separator:a8282a20746be60a208cde90a8eea1529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9505926532bf44f70216b52d45db549a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#a9505926532bf44f70216b52d45db549a">PollTx</a> (uint8_t *buff, size_t size)</td></tr>
<tr class="separator:a9505926532bf44f70216b52d45db549a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28345bdf7d66aa891bbde3cf8c68057"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#ae28345bdf7d66aa891bbde3cf8c68057">PopRx</a> ()</td></tr>
<tr class="separator:ae28345bdf7d66aa891bbde3cf8c68057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b8cad10b4f9a9520d2248c567babcc1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#a4b8cad10b4f9a9520d2248c567babcc1">Readable</a> ()</td></tr>
<tr class="separator:a4b8cad10b4f9a9520d2248c567babcc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2266b23e77dde305b229b7814604fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaisy_1_1_uart_handler.html#ada2266b23e77dde305b229b7814604fe">CheckError</a> ()</td></tr>
<tr class="separator:ada2266b23e77dde305b229b7814604fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Uart Peripheral </p><dl class="section author"><dt>Author</dt><dd>shensley </dd></dl>
<dl class="section date"><dt>Date</dt><dd>March 2020 </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ac45c7ac82e6f0328b4e7b03fd12e7237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac45c7ac82e6f0328b4e7b03fd12e7237">&#9670;&nbsp;</a></span>Result</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237">daisy::UartHandler::Result</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return values for Uart functions. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac45c7ac82e6f0328b4e7b03fd12e7237ae0aa021e21dddbd6d8cecec71e9cf564"></a>OK&#160;</td><td class="fielddoc"><p>&amp; </p>
</td></tr>
<tr><td class="fieldname"><a id="ac45c7ac82e6f0328b4e7b03fd12e7237acd22bad976363fdd1bfbf6759fede482"></a>ERR&#160;</td><td class="fielddoc"><p>&amp; </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ada2266b23e77dde305b229b7814604fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada2266b23e77dde305b229b7814604fe">&#9670;&nbsp;</a></span>CheckError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daisy::UartHandler::CheckError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the result of HAL_UART_GetError() to the user. </dd></dl>

</div>
</div>
<a id="a8282a20746be60a208cde90a8eea1529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8282a20746be60a208cde90a8eea1529">&#9670;&nbsp;</a></span>FlushRx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237">Result</a> daisy::UartHandler::FlushRx </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flushes the Receive Queue </p><dl class="section return"><dt>Returns</dt><dd>OK or ERROR </dd></dl>

</div>
</div>
<a id="ad984db785058ee2fed0d0b086e519630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad984db785058ee2fed0d0b086e519630">&#9670;&nbsp;</a></span>GetConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structdaisy_1_1_uart_handler_1_1_config.html">Config</a>&amp; daisy::UartHandler::GetConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current config. </p>

</div>
</div>
<a id="aa25c871d2fb9d382ef779ba92b4d2ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25c871d2fb9d382ef779ba92b4d2ada">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237">Result</a> daisy::UartHandler::Init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdaisy_1_1_uart_handler_1_1_config.html">Config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the UART Peripheral </p>

</div>
</div>
<a id="a9641f3808cf70559d3d988f5ae8e254c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9641f3808cf70559d3d988f5ae8e254c">&#9670;&nbsp;</a></span>PollReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daisy::UartHandler::PollReceive </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the amount of bytes in blocking mode with a 10ms timeout. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*buff</td><td>Buffer to read to </td></tr>
    <tr><td class="paramname">size</td><td>Buff size </td></tr>
    <tr><td class="paramname">timeout</td><td>How long to timeout for (10ms?) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data received </dd></dl>

</div>
</div>
<a id="a9505926532bf44f70216b52d45db549a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9505926532bf44f70216b52d45db549a">&#9670;&nbsp;</a></span>PollTx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237">Result</a> daisy::UartHandler::PollTx </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends an amount of data in blocking mode. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*buff</td><td>Buffer of data to send </td></tr>
    <tr><td class="paramname">size</td><td>Buffer size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK or ERROR </dd></dl>

</div>
</div>
<a id="ae28345bdf7d66aa891bbde3cf8c68057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae28345bdf7d66aa891bbde3cf8c68057">&#9670;&nbsp;</a></span>PopRx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t daisy::UartHandler::PopRx </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pops the oldest byte from the FIFO. </p><dl class="section return"><dt>Returns</dt><dd>Popped byte </dd></dl>

</div>
</div>
<a id="a4b8cad10b4f9a9520d2248c567babcc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b8cad10b4f9a9520d2248c567babcc1">&#9670;&nbsp;</a></span>Readable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t daisy::UartHandler::Readable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if there are any unread bytes in the FIFO </p><dl class="section return"><dt>Returns</dt><dd>1 or 0 ?? </dd></dl>

</div>
</div>
<a id="aeeb804c58c2ccf574142b2a030d2d83b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeb804c58c2ccf574142b2a030d2d83b">&#9670;&nbsp;</a></span>RxActive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool daisy::UartHandler::RxActive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>whether Rx DMA is listening or not. </dd></dl>

</div>
</div>
<a id="a24098e17a8be0b1b2a229f1959c941db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24098e17a8be0b1b2a229f1959c941db">&#9670;&nbsp;</a></span>StartRx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdaisy_1_1_uart_handler.html#ac45c7ac82e6f0328b4e7b03fd12e7237">Result</a> daisy::UartHandler::StartRx </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts a DMA Receive callback to fill a buffer of specified size. Data is populated into a FIFO queue, and can be queried with the functions below. Size of the buffer is internally fixed to 256. Variable message lengths are transferred to the FIFO queue anytime there is 1 byte-period without incoming data </p><dl class="section return"><dt>Returns</dt><dd>OK or ERROR </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/per/<a class="el" href="uart_8h_source.html">uart.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
